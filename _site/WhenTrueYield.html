<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>WhenTrueYield() | Motiv</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="WhenTrueYield()" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Supercharge your boolean logic!" />
<meta property="og:description" content="Supercharge your boolean logic!" />
<link rel="canonical" href="http://localhost:4000/Motiv/WhenTrueYield.html" />
<meta property="og:url" content="http://localhost:4000/Motiv/WhenTrueYield.html" />
<meta property="og:site_name" content="Motiv" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="WhenTrueYield()" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Supercharge your boolean logic!","headline":"WhenTrueYield()","url":"http://localhost:4000/Motiv/WhenTrueYield.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/Motiv/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/Motiv/feed.xml" title="Motiv" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/Motiv/">Motiv</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/Motiv/">Introduction</a><a class="page-link" href="/Motiv/API.html">API</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">WhenTrueYield()</h1>
  </header>

  <div class="post-content">
    <p>The difference between <code class="language-plaintext highlighter-rouge">WhenTrueYield</code> and <code class="language-plaintext highlighter-rouge">WhenTrue</code> is that <code class="language-plaintext highlighter-rouge">WhenTrueYield</code> is used to generate multiple
assertions/metadata. This may be, for instance, because you want to pass through the underlying assertions instead of
summarizing them, or maybe you are working with higher-order propositions and want assertions for each unsatisfied
model in a set.</p>

<p>Different overloads are made available for different use casesâ€”depending on which <code class="language-plaintext highlighter-rouge">Build()</code> overload was previously 
chosen.</p>

<h4 id="new-propositions">New propositions</h4>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Func&lt;TModel, IEnumerable&lt;string&gt;&gt;</code> - a factory function that returns multiple assertion statements.</li>
  <li><code class="language-plaintext highlighter-rouge">Func&lt;TModel, IEnumerable&lt;TMetadata&gt;&gt;</code> - a factory function that returns multiple metadata values.</li>
</ul>

<h4 id="reusing-existing-propositions-or-their-results">Reusing existing propositions or their results</h4>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Func&lt;TModel, BooleanResultBase&lt;TMetadata&gt;, IEnumerable&lt;string&gt;&gt;</code> - a factory function that returns multiple assertion statements.</li>
  <li><code class="language-plaintext highlighter-rouge">Func&lt;TModel, BooleanResultBase&lt;TMetadata&gt;, IEnumerable&lt;TMetadata&gt;&gt;</code> - a factory function that returns multiple metadata values.</li>
</ul>

<h4 id="higher-order-propositions-from-a-predicate-function">Higher-order propositions from a predicate function</h4>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Func&lt;HigherOrderBooleanEvaluation&lt;TModel&gt;, IEnumerable&lt;string&gt;&gt;</code> - a factory function that returns multiple assertion statements.</li>
  <li><code class="language-plaintext highlighter-rouge">Func&lt;HigherOrderBooleanEvaluation&lt;TModel&gt;, IEnumerable&lt;TMetadata&gt;&gt;</code> - a factory function that returns multiple metadata values.</li>
</ul>

<h4 id="higher-order-propositions-from-an-existing-proposition">Higher-order propositions from an existing proposition</h4>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Func&lt;HigherOrderEvaluation&lt;TModel, TMetadata&gt;, IEnumerable&lt;string&gt;&gt;</code> - a factory function that returns multiple assertion statements.</li>
  <li><code class="language-plaintext highlighter-rouge">Func&lt;HigherOrderEvaluation&lt;TModel, TMetadata&gt;, IEnumerable&lt;TMetadata&gt;&gt;</code> - a factory function that returns multiple metadata values.</li>
</ul>

<h2 id="usage-when-building-a-new-proposition">Usage when building a new proposition</h2>

<p>When the <code class="language-plaintext highlighter-rouge">Build()</code> method is called using a predicate function, or an existing proposition, you can use the model to 
generate multiple assertions or metadata values from it.</p>

<h3 id="dynamic-assertions-derived-from-model">Dynamic assertions (derived from model)</h3>

<p><code class="language-plaintext highlighter-rouge">.WhenTrueYield(Func&lt;TModel, IEnumerable&lt;string&gt;&gt; factory)</code></p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Spec</span><span class="p">.</span><span class="nf">Build</span><span class="p">((</span><span class="kt">string</span> <span class="n">str</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">str</span><span class="p">.</span><span class="nf">Contains</span><span class="p">(</span><span class="s">"foo"</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="n">str</span><span class="p">.</span><span class="nf">Contains</span><span class="p">(</span><span class="s">"bar"</span><span class="p">))</span>
    <span class="p">.</span><span class="nf">WhenTrueYield</span><span class="p">(</span><span class="n">str</span> <span class="p">=&gt;</span>
        <span class="p">[</span>
            <span class="s">$"'</span><span class="p">{</span><span class="n">str</span><span class="p">}</span><span class="s">' contains 'foo'"</span><span class="p">,</span>
            <span class="s">$"'</span><span class="p">{</span><span class="n">str</span><span class="p">}</span><span class="s">' contains 'bar'"</span>
        <span class="p">])</span>
    <span class="p">.</span><span class="nf">WhenFalse</span><span class="p">(</span><span class="s">"does not contain 'foo' and 'bar'"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s">"contains 'foo' and 'bar'"</span><span class="p">);</span>
</code></pre></div></div>

<p>This overload generates multiple assertion statements based on the model when the proposition is satisfied.</p>

<h3 id="dynamic-metadata-derived-from-model">Dynamic metadata (derived from model)</h3>

<p><code class="language-plaintext highlighter-rouge">.WhenTrueYield(Func&lt;TModel, IEnumerable&lt;TMetadata&gt;&gt; factory)</code></p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Spec</span><span class="p">.</span><span class="nf">Build</span><span class="p">((</span><span class="kt">string</span> <span class="n">str</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">str</span><span class="p">.</span><span class="nf">Contains</span><span class="p">(</span><span class="s">"foo"</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="n">str</span><span class="p">.</span><span class="nf">Contains</span><span class="p">(</span><span class="s">"bar"</span><span class="p">))</span>
    <span class="p">.</span><span class="nf">WhenTrueYield</span><span class="p">(</span><span class="n">str</span> <span class="p">=&gt;</span>
        <span class="p">[</span>
            <span class="k">new</span> <span class="nf">MyMetadata</span><span class="p">(</span><span class="s">$"'</span><span class="p">{</span><span class="n">str</span><span class="p">}</span><span class="s">' contains 'foo'"</span><span class="p">),</span>
            <span class="k">new</span> <span class="nf">MyMetadata</span><span class="p">(</span><span class="s">$"'</span><span class="p">{</span><span class="n">str</span><span class="p">}</span><span class="s">' contains 'bar'"</span><span class="p">)</span>
        <span class="p">])</span>
    <span class="p">.</span><span class="nf">WhenFalse</span><span class="p">(</span><span class="k">new</span> <span class="nf">MyMetadata</span><span class="p">(</span><span class="s">"does not contain 'foo' and 'bar'"</span><span class="p">))</span>
    <span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s">"contains 'foo' and 'bar'"</span><span class="p">);</span>
</code></pre></div></div>

<p>This overload generates multiple metadata instances based on the model when the proposition is satisfied.</p>

<h2 id="usage-when-building-upon-existing-propositions-or-results">Usage when building upon existing propositions or results</h2>

<p>Existing propositions can be re-used to build new propositions.
In this case, the factory function will receive the model and the result of the underlying proposition so that you 
can generate multiple assertions or metadata values from them.</p>

<h3 id="dynamic-assertions-derived-from-model-and-underlying-result">Dynamic assertions (derived from model and underlying result)</h3>

<p><code class="language-plaintext highlighter-rouge">.WhenTrueYield(Func&lt;TModel, BooleanResultBase&lt;TMetadata&gt;, IEnumerable&lt;string&gt;&gt; factory)</code></p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Spec</span><span class="p">.</span><span class="nf">Build</span><span class="p">(</span><span class="k">new</span> <span class="nf">IsEvenProposition</span><span class="p">())</span>
    <span class="p">.</span><span class="nf">WhenTrueYield</span><span class="p">((</span><span class="n">n</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">result</span><span class="p">.</span><span class="n">Assertions</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">WhenFalse</span><span class="p">(</span><span class="s">"is odd"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s">"is even"</span><span class="p">);</span>
</code></pre></div></div>

<p>This is used to generate multiple assertion statements based on the model and the result of the underlying proposition.</p>

<h3 id="dynamic-metadata-derived-from-model-and-underlying-result">Dynamic metadata (derived from model and underlying result)</h3>

<p><code class="language-plaintext highlighter-rouge">.WhenTrueYield(Func&lt;TModel, BooleanResultBase&lt;TMetadata&gt;, IEnumerable&lt;TMetadata&gt;&gt; factory)</code></p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Spec</span><span class="p">.</span><span class="nf">Build</span><span class="p">(</span><span class="k">new</span> <span class="nf">IsEvenProposition</span><span class="p">())</span>
    <span class="p">.</span><span class="nf">WhenTrueYield</span><span class="p">((</span><span class="n">n</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">result</span><span class="p">.</span><span class="n">Assertions</span><span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">assertion</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">MyMetadata</span><span class="p">(</span><span class="s">$"</span><span class="p">{</span><span class="n">n</span><span class="p">}</span><span class="s"> </span><span class="p">{</span><span class="n">assertion</span><span class="p">}</span><span class="s">"</span><span class="p">)))</span>
    <span class="p">.</span><span class="nf">WhenFalse</span><span class="p">(</span><span class="k">new</span> <span class="nf">MyMetadata</span><span class="p">(</span><span class="s">"is odd"</span><span class="p">))</span>
    <span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s">"is even"</span><span class="p">);</span>
</code></pre></div></div>

<p>This overload generates multiple metadata values based on the model and the result of the underlying proposition.</p>

<h2 id="usage-when-building-a-higher-order-proposition-from-a-predicate-function">Usage when building a higher-order proposition from a predicate function</h2>

<p>When a predicate function is used by the <code class="language-plaintext highlighter-rouge">Build()</code> method, the factory function will receive a
<code class="language-plaintext highlighter-rouge">HigherOrderBooleanEvaluation&lt;TModel&gt;</code> containing the models and their results.</p>

<h3 id="dynamic-assertions-derived-from-pairwise-model-and-result">Dynamic assertions (derived from pairwise model and result)</h3>

<p><code class="language-plaintext highlighter-rouge">.WhenTrueYield(Func&lt;HigherOrderBooleanEvaluation&lt;TModel&gt;, IEnumerable&lt;string&gt;&gt; factory)</code></p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Spec</span><span class="p">.</span><span class="nf">Build</span><span class="p">((</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">n</span> <span class="p">%</span> <span class="m">2</span> <span class="p">==</span> <span class="m">0</span><span class="p">))</span>
    <span class="p">.</span><span class="nf">AsAnySatisfied</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">WhenTrueYield</span><span class="p">(</span><span class="n">eval</span> <span class="p">=&gt;</span> <span class="n">eval</span><span class="p">.</span><span class="n">TrueModels</span><span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">n</span> <span class="p">=&gt;</span> <span class="s">$"</span><span class="p">{</span><span class="n">n</span><span class="p">}</span><span class="s"> is even"</span><span class="p">))</span>
    <span class="p">.</span><span class="nf">WhenFalse</span><span class="p">(</span><span class="s">"all are odd"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s">"all even"</span><span class="p">);</span>
</code></pre></div></div>

<p>This overload gives you access to the models (and various aspects of them) so that you can generate multiple
distinct assertion statements.</p>

<h3 id="dynamic-metadata-derived-from-pairwise-model-and-result">Dynamic metadata (derived from pairwise model and result)</h3>

<p><code class="language-plaintext highlighter-rouge">.WhenTrueYield(Func&lt;HigherOrderBooleanEvaluation&lt;TModel&gt;, IEnumerable&lt;TMetadata&gt;&gt; factory)</code></p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Spec</span><span class="p">.</span><span class="nf">Build</span><span class="p">((</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">n</span> <span class="p">%</span> <span class="m">2</span> <span class="p">==</span> <span class="m">0</span><span class="p">))</span>
    <span class="p">.</span><span class="nf">AsAnySatisfied</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">WhenTrueYield</span><span class="p">(</span><span class="n">eval</span> <span class="p">=&gt;</span> <span class="n">eval</span><span class="p">.</span><span class="n">TrueModels</span><span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">n</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">MyMetadata</span><span class="p">(</span><span class="s">$"</span><span class="p">{</span><span class="n">n</span><span class="p">}</span><span class="s"> is even"</span><span class="p">)))</span>
    <span class="p">.</span><span class="nf">WhenFalse</span><span class="p">(</span><span class="k">new</span> <span class="nf">MyMetadata</span><span class="p">(</span><span class="s">"all are odd"</span><span class="p">))</span>
    <span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s">"all even"</span><span class="p">);</span>
</code></pre></div></div>

<p>This overload gives you access to the models (and various aspects of them) so that you can generate multiple distinct
metadata values.</p>

<h2 id="usage-when-building-a-higher-order-proposition-from-an-existing-proposition">Usage when building a higher-order proposition from an existing proposition</h2>

<p>When an existing proposition is used by the <code class="language-plaintext highlighter-rouge">Build()</code> method, the factory function will receive a
<code class="language-plaintext highlighter-rouge">HigherOrderEvaluation&lt;TModel, TMetadata&gt;</code> containing the models and their results.</p>

<h3 id="dynamic-assertions-derived-from-pairwise-model-and-result-1">Dynamic assertions (derived from pairwise model and result)</h3>

<p><code class="language-plaintext highlighter-rouge">.WhenTrueYield(Func&lt;HigherOrderEvaluation&lt;TModel, TMetadata&gt;, IEnumerable&lt;string&gt;&gt; factory)</code></p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Spec</span><span class="p">.</span><span class="nf">Build</span><span class="p">(</span><span class="k">new</span> <span class="nf">IsEvenProposition</span><span class="p">())</span>
    <span class="p">.</span><span class="nf">AsAnySatisfied</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">WhenTrueYield</span><span class="p">(</span><span class="n">eval</span> <span class="p">=&gt;</span> <span class="n">eval</span><span class="p">.</span><span class="n">TrueModels</span><span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">n</span> <span class="p">=&gt;</span> <span class="s">$"</span><span class="p">{</span><span class="n">n</span><span class="p">}</span><span class="s"> is even"</span><span class="p">))</span>
    <span class="p">.</span><span class="nf">WhenFalse</span><span class="p">(</span><span class="s">"all are odd"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s">"all even"</span><span class="p">);</span>
</code></pre></div></div>

<p>This overload gives you access to the models and their results so that you can generate multiple distinct assertion
statements.</p>

<h3 id="dynamic-metadata-derived-from-pairwise-model-and-result-1">Dynamic metadata (derived from pairwise model and result)</h3>

<p><code class="language-plaintext highlighter-rouge">.WhenTrueYield(Func&lt;HigherOrderEvaluation&lt;TModel, TMetadata&gt;, IEnumerable&lt;TMetadata&gt;&gt; factory)</code></p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Spec</span><span class="p">.</span><span class="nf">Build</span><span class="p">(</span><span class="k">new</span> <span class="nf">IsEvenProposition</span><span class="p">())</span>
    <span class="p">.</span><span class="nf">AsAnySatisfied</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">WhenTrueYield</span><span class="p">(</span><span class="n">eval</span> <span class="p">=&gt;</span> <span class="n">eval</span><span class="p">.</span><span class="n">TrueModels</span><span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">n</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">MyMetadata</span><span class="p">(</span><span class="s">$"</span><span class="p">{</span><span class="n">n</span><span class="p">}</span><span class="s"> is even"</span><span class="p">)))</span>
    <span class="p">.</span><span class="nf">WhenFalse</span><span class="p">(</span><span class="k">new</span> <span class="nf">MyMetadata</span><span class="p">(</span><span class="s">"all are odd"</span><span class="p">))</span>
    <span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="s">"all even"</span><span class="p">);</span>
</code></pre></div></div>

<p>This overload gives you access to the models and their results so that you can generate multiple distinct metadata
objects.</p>

<div style="display: flex; justify-content: space-between">
    <a href="./WhenTrue.html">&lt; Previous</a>
    <a href="./WhenFalse.html">Next &gt;</a>
</div>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/Motiv/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Motiv</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Motiv</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Supercharge your boolean logic!</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
